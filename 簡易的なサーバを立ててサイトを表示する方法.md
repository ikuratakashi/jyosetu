# 簡易的なサーバを立てて、Reactでbuildしたソースをブラウザで表示するには

## ライブラリなどが既にインストールされている場合の実行方法

### ※sandboxフォルダにサイトのソースが揃っている前提

`sandbox` のフォルダに移動してコマンドを実行
```
serve -s .
```

サーバの停止方法は、当ファイルの `サーバの停止（Windowsの場合）` を参照してください。

## ライブラリのインストール

※必ず、管理者権限がついたコマンドラインで行ってください。
- Webサーバ
```
npm install -g http-server
```
- リダイレクトができるようになるパッケージ
```
npm install -g serve
```

## ソースをコンパイル（bild）
プロジェクトのフォルダに移動してコマンドを実行
```
yarn run build
```
`build` フォルダが作成されるので、そこにhtml関連が出力される

## Webサーバの起動
`build` のフォルダに移動してコマンドを実行
```
serve -s .
```

※デフォルトのポートは `3000` です。
※変更する場合は、`serve -s . -l 4000` などとパラメータを指定して実行できます。

## ブラウザでサイトを表示
サーバが起動している時は、以下のURLで表示できる

http://localhost:3000

## サーバの停止（Windowsの場合）

サーバを起動したコマンドラインの画面で `ctrl + c` を押下しても、サーバが終了しない場合は、以下の手順で終了させてください。

1. 起動しているポートを検索
```
netstat -ano | findstr :3000
```
- 実行結果の例
```
 TCP         0.0.0.0:3000           0.0.0.0:0              LISTENING       7104
  TCP         [::]:3000              [::]:0                 LISTENING       7104
  TCP         [::1]:3000             [::1]:62381            TIME_WAIT       0
  TCP         [::1]:3000             [::1]:62382            TIME_WAIT       0
  TCP         [::1]:3000             [::1]:62383            TIME_WAIT       0
```

`7104` がプロセスIDです。環境によって異なります。

2. プロセスの終了
上記で取得したプロセスIDを使ってサーバを終了させます。
```
taskkill /PID 7104 /F
```
- 実行結果の例
```
成功: PID 7104 のプロセスは強制終了されました。
```


