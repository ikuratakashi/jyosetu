# サービスをまとめて起動するには
## コマンドで起動するサービス
### Webサーバ
`www.py` コントローラー画面
### WebSocketサーバ
`sv.py` コントローラー画面からのコマンドを受信して、除雪機のデバイスにRS-232Cでコマンドを送信

## コマンド
### 起動
```
./run_st.sh
```

### 終了
```
./run_ed.sh
```

## RS232Cで送信しているコマンドを確認する方法

RS232Cで送信しているコマンドを確認するプログラムを起動

```
python rs232c.py
```

このプログラムを起動すると、以下のようなメッセージが表示される
```
[24-09-22 14:09:11:730:LOG:main(?)] Received:c_up,c_up,c_up,c_up,c_up,c_up,c_up,c_up,c_up,c_up,c_up,c_up,c_up,c_up,c_up,c_up,c_up,c_up,c_up,c_up,c_up,
[24-09-22 14:09:13:197:LOG:main(?)] Received:c_up,c_up,c_up,c_up,c_up,c_up,c_dw,c_dw,
[24-09-22 14:09:14:919:LOG:main(?)] Received:c_dw,c_dw,c_dw,c_dw,c_dw,c_dw,
[24-09-22 14:09:16:199:LOG:main(?)] Received:c_dw,c_dw,c_dw,c_dw,c_dw,c_dw,
[24-09-22 14:09:17:419:LOG:main(?)] Received:c_dw,c_dw,c_dw,c_dw,c_dw,c_dw,
```

終了は `Ctrl+C` で終了する。

# ラズパイの起動時に実行されるプロセスの確認と終了方法

1. 以下のコマンドを実行し、プロセスを確認
```
ps -ef | grep -E 'sv\.py|rs232c\.py|www\.py'
```
以下のように表示される
```
root       518     1 99 14:05 ?        00:37:05 /usr/bin/python ./sv.py
root       529     1  0 14:05 ?        00:00:01 /usr/bin/python ./www.py
```
プロセスIDを指定してプロセスを終了させる
```
sudo kill -9 518 529
```

#